import{f as M,e as B,r as w,R as h,j as n}from"./index-BXQqOrT8.js";/* empty css              */import{S as j}from"./sweetalert2.esm.all-O8mKH-HY.js";import{y as p,L as D}from"./index-BFsqlmc_.js";const k=()=>{const{signIn:e,signUp:t,resetPassword:r,loginWithGoogle:a}=M(),d=B(),[l,m]=w.useState(!1),[g,c]=w.useState(!1),[b,f]=w.useState({}),[S,L]=w.useState(!1),[i,P]=w.useState({email:"",password:"",confirmPassword:""}),R=async()=>{try{c(!0);const{error:o}=await a();if(o)throw o}catch(o){console.error(o),p.error("Error al iniciar sesión con Google"),c(!1)}},z=async o=>{o.preventDefault();const{value:s}=await j.fire({title:"Recuperar Contraseña",text:"Introduce tu email para recibir el enlace de recuperación",input:"email",inputPlaceholder:"ejemplo@correo.com",showCancelButton:!0,confirmButtonText:"Enviar",cancelButtonText:"Cancelar"});if(s){c(!0);try{const{error:u}=await r(s);u?p.error("Error: "+u.message):j.fire("¡Enviado!","Revisa tu correo para restablecer la contraseña.","success")}catch{p.error("Error de conexión")}finally{c(!1)}}},F=o=>{const{name:s,value:u}=o.target;P({...i,[s]:u})},I=()=>{const o={};if(i.email.trim()||(o.email="El email es obligatorio"),!i.password.trim())o.password="La contraseña es obligatoria";else{const s=[];i.password.length<8&&s.push("al menos 8 caracteres"),/[A-Z]/.test(i.password)||s.push("una mayúscula"),/[0-9]/.test(i.password)||s.push("un número"),s.length>0&&(o.password="La contraseña debe tener: "+s.join(", "))}return l&&(i.confirmPassword?i.password!==i.confirmPassword&&(o.confirmPassword="Las contraseñas no coinciden"):o.confirmPassword="Debes confirmar la contraseña"),f(o),Object.keys(o).length===0};return{isSignUp:l,loading:g,errores:b,mostrarPassword:S,setMostrarPassword:L,form:i,gestionarCampos:F,enviarFormulario:async o=>{if(o.preventDefault(),!I()){p.warn("Por favor revisa los campos del formulario");return}c(!0),f({});try{let s;if(l?(s=await t(i.email,i.password),s.error||(p.success("¡Registro exitoso! Revisa tu email de confirmación."),m(!1))):(s=await e(i.email,i.password),s.error||(await j.fire({title:"¡Bienvenido!",text:`Hola de nuevo, ${i.email}`,icon:"success",timer:2e3,showConfirmButton:!1}),d("/"))),s.error){const u=s.error.message;f({auth:u}),p.error(`Error: ${u}`)}}catch{f({auth:"Error de conexión"}),p.error("Error de conexión con el servidor")}finally{c(!1)}},handleGoogleLogin:R,handleResetPassword:z,cambiarModo:o=>{o.preventDefault(),m(!l),f({}),P(s=>({...s,confirmPassword:""}))}}};var N={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},C=h.createContext&&h.createContext(N),G=["attr","size","title"];function _(e,t){if(e==null)return{};var r=A(e,t),a,d;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(d=0;d<l.length;d++)a=l[d],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function A(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v.apply(this,arguments)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),r.push.apply(r,a)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(a){T(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function T(e,t,r){return t=W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e){var t=H(e,"string");return typeof t=="symbol"?t:t+""}function H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E(e){return e&&e.map((t,r)=>h.createElement(t.tag,x({key:r},t.attr),E(t.child)))}function y(e){return t=>h.createElement(U,v({attr:x({},e.attr)},t),E(e.child))}function U(e){var t=r=>{var{attr:a,size:d,title:l}=e,m=_(e,G),g=d||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),h.createElement("svg",v({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,m,{className:c,style:x(x({color:e.color||r.color},r.style),e.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),l&&h.createElement("title",null,l),e.children)};return C!==void 0?h.createElement(C.Consumer,null,r=>t(r)):t(N)}function V(e){return y({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}function $(e){return y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function K(e){return y({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}const ee=()=>{const{isSignUp:e,loading:t,errores:r,mostrarPassword:a,setMostrarPassword:d,form:l,gestionarCampos:m,enviarFormulario:g,handleGoogleLogin:c,handleResetPassword:b,cambiarModo:f}=k();return n.jsxs("div",{className:"container",children:[n.jsx(D,{position:"top-right",autoClose:4e3,theme:"colored"}),n.jsx("div",{className:"right"}),n.jsxs("div",{className:"left",children:[n.jsxs("div",{className:"header",children:[n.jsx("h2",{className:"animation a1",children:e?"Crear Cuenta":"Bienvenido"}),n.jsx("h4",{className:"animation a2",children:e?"Completa los datos para registrarte":"Inicia sesión con tu correo y contraseña"})]}),n.jsxs("form",{className:"form",onSubmit:g,children:[r.auth&&n.jsx("p",{className:"error-text animation a2",children:r.auth}),n.jsx("input",{type:"email",name:"email",className:"form-field animation a3",value:l.email,onChange:m,placeholder:"Email Address"}),r.email&&n.jsx("p",{className:"error-text",children:r.email}),n.jsxs("div",{className:"password-wrapper animation a4",children:[n.jsx("input",{type:a?"text":"password",name:"password",className:"form-field",style:{marginTop:0,width:"100%"},value:l.password,onChange:m,placeholder:"Password"}),n.jsx("button",{type:"button",className:"btn-eye-toggle",onClick:()=>d(!a),tabIndex:"-1",title:a?"Ocultar contraseña":"Mostrar contraseña",children:a?n.jsx($,{size:20}):n.jsx(K,{size:20})})]}),r.password&&n.jsx("p",{className:"error-text",children:r.password}),e&&n.jsxs("div",{className:"animation a5",children:[n.jsx("input",{type:"password",name:"confirmPassword",className:"form-field",value:l.confirmPassword,onChange:m,placeholder:"Confirmar Password"}),r.confirmPassword&&n.jsx("p",{className:"error-text",children:r.confirmPassword})]}),!e&&n.jsx("div",{className:"forgot-pass-container animation a5",children:n.jsx("a",{href:"#",onClick:b,children:"¿Olvidaste tu contraseña?"})}),n.jsx("button",{type:"submit",className:"animation a6",disabled:t,children:t?"Procesando...":e?"REGISTRARSE":"LOGIN"}),n.jsxs("button",{type:"button",className:"google-btn animation a6",disabled:t,onClick:c,children:[n.jsx(V,{size:22,style:{marginRight:"8px"}}),"Sign in with Google"]}),n.jsx("p",{className:"toggle-mode-container animation a7",children:n.jsx("a",{href:"#",onClick:f,children:e?"¿Ya tienes cuenta? Inicia sesión":"¿No tienes cuenta? Regístrate gratis"})})]})]})]})};export{ee as default};
